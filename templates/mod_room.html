{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Hotel Perseo</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
       integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
       crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
       integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style_mod_room.css' %}">
 
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
       integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
       crossorigin="anonymous"></script>
 
       <script>
         $(document).ready(function () {
            // Oculta todas las tablas al cargar la página
            console.log("jQuery version:", $.fn.jquery);

            $(".tabla_content").hide();
   
            // Maneja el clic en los enlaces de la lista
            $(".lista-grupo-elemento").click(function (e) {
               e.preventDefault(); // Evita el comportamiento predeterminado del enlace
   
               // Oculta todas las tablas
               $(".tabla_content").hide();
   
               // Muestra la tabla correspondiente al enlace clicado
               var tablaId = $(this).attr("href");
               console.log("Clic en enlace. ID de la tabla:", tablaId);
   
               $(tablaId).show();
            });
         });
      </script>

 
</head>

<body>

   <section class="header">

      <div class="flex">
         <a href="{% url 'admins' %}"class="logo">Hotel Perseo</a>
         <div class="icons">
            <a href="logout.php"><i class="fa-solid fa-right-to-bracket" style="color: var(--green);"></i></a>
        </div>
   
      </div>
     
      <nav class="navbar">
         <a href="#">Inicio</a>
         <a href="Clases/Servicios.php">Servicios</a>
         <a href="Clases/Reservacion.php">Reservaciones</a>
         <a href="#">Contáctanos</a>
         <a href="Clases/acercadenostros.php">Acerca de Nosotros</a>
      </nav>

   </section>

   <section class="home" id="home">
      <div class="menu_desplejable">
         <div class="accordion" id="accordionPanelsStayOpenExample">

            <div class="accordion-item">
               <h1 class="accordion-header">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse"
                     data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                     aria-controls="panelsStayOpen-collapseOne">
                     Usuario
                  </button>
               </h1>
               <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
                  <div class="accordion-body">
                     <div class="list-group">
                        <a href="#table_user" class="lista-grupo-elemento lista-grupo-elemento-accion">Usuario</a>
                     </div>
                  </div>
               </div>
            </div>



            <div class="accordion-item">
               <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                     data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                     aria-controls="panelsStayOpen-collapseTwo">
                     Habitacion
                  </button>
               </h2>
               <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
                  <div class="accordion-body">
                     <div class="list-group">
                        <a href="#table_room" class="lista-grupo-elemento lista-grupo-elemento-accion">Habitación</a>
                        <a href="#table_room_status" class="lista-grupo-elemento lista-grupo-elemento-accion">Estado de la habitación</a>
                        <a href="#table_room_types" class="lista-grupo-elemento lista-grupo-elemento-accion">Tipos de habitaciones</a>
                     </div>
                  </div>
               </div>
            </div>


            <div class="accordion-item">
               <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                     data-bs-target="#panelsStayOpen-collapseTree" aria-expanded="false"
                     aria-controls="panelsStayOpen-collapseTree">
                     Inventario
                  </button>
               </h2>
               <div id="panelsStayOpen-collapseTree" class="accordion-collapse collapse">
                  <div class="accordion-body">
                     <div class="list-group">
                        <a href="#table_inventory" class="lista-grupo-elemento lista-grupo-elemento-accion">Inventario</a>
                        <a href="#table_categoria" class="lista-grupo-elemento lista-grupo-elemento-accion">Categoria</a>
                        
                     </div>
                  </div>
               </div>
            </div>

           

            

         </div>
      </div>
      
      <div class="contenido_menu">
         <div class="tabla_content" id="table_user">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th scope="col">#</th>
                     <th scope="col">Tipo Doc</th>
                     <th scope="col">Nro Documento</th>
                     <th scope="col">Nombre</th>
                     <th scope="col">Apellido</th>
                     <th scope="col">Email</th>
                     <th scope="col">Teléfono</th>
                     <th scope="col">Rol</th>
                     <th scope="col">Contraseña</th>
                     <th scope="col"> <a href="{% url 'view_insert_user' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                     
                  </tr>
               </thead>

               <tbody>
                  {% for user in get_user %}
                  <tr>
                     <th> {{ forloop.counter }}</th>
                     <th class="table-light" scope="row">{{ user.id_tipoDocumento}}</th>
                     <td class="table-light">{{ user.numero_documento }}</td>
                     <td class="table-light">{{ user.nombre }}</td>
                     <td class="table-light">{{ user.apellido }}</td>
                     <td class="table-light">{{ user.email }}</td>
                     <td class="table-light">{{ user.telefono }}</td>
                     <td class="table-light">{{ user.id_tipoPersona }}</td>
                     <td class="table-light">{{ user.password }}</td>
                     <td>
                            <a href="view_update_user/{{user.numero_documento}}">
                                <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                            <a href="delete_user/{{user.numero_documento}}">
                                <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                    </td>
                     
                  </tr>
                  {% endfor %}
               </tbody>

            </table>
         </div>


         <div class="tabla_content" id="table_room">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     
                     <th scope="col">Nro Habitación</th>
                     <th scope="col">Estado Habitación</th>
                     <th scope="col">Tipo Habitación</th>
                     <th scope="col"> <a href="{% url 'view_insert_room' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                     
                  </tr>
               </thead>

               <tbody>
                  {% for room in get_room %}
                  <tr>
                     <th class="table-light" scope="row">{{ room.num_habitacion}}</th>
                     <td class="table-light">{{ room.id_estadoHab }}</td>
                     <td class="table-light">{{ room.id_tipoHab }}</td>
                     <td>
                            <a href="view_update_room/{{room.num_habitacion}}">
                                <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                            <a href="delete_room/{{room.num_habitacion}}">
                                <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                    </td>
                     
                  </tr>
                  {% endfor %}
               </tbody>

            </table>
         </div>

         <div class="tabla_content" id="table_room_status">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th scope="col">id</th>
                     <th scope="col">Estado Habitación</th>
                     <th scope="col">Descripción</th>
                     <th scope="col"> <a href="{% url 'insert_room_status' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                  </tr>
               </thead>

               <tbody>
                  {% for room_status in get_room_status  %}
                  <tr>
                     {% comment %} <th> {{ forloop.counter }}</th> {% endcomment %}
                     <th class="table-light" scope="row">{{room_status.id }}</th>
                     <td class="table-light">{{ room_status.tipo_estado }}</td>
                     <td class="table-light">{{ room_status.descripcion }}</td>
                     <td>
                            <a href="update_room_status/{{room_status.id}}">
                                <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                            <a href="delete_room_status/{{room_status.id}}">
                                <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                    </td>
                  </tr>
                  {% endfor %}

               </tbody>

            </table>
         </div>

         <div class="tabla_content" id="table_room_types">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th scope="col">id</th>
                     <th scope="col">Tipo Habitación</th>
                     <th scope="col">Descripción</th>
                     <th scope="col">Precio noche</th>
                     <th scope="col">Cant Adultos</th>
                     <th scope="col">Cant Niños</th>
                     <th scope="col">Foto</th>
                     <th scope="col"> <a href="{% url 'insert_room_types' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                  </tr>
               </thead>

               <tbody>
                  {% for room_type in get_room_types %}
                  <tr>
                     <th class="table-light" scope="row">{{ room_type.id }}</th>
                     <td class="table-light">{{ room_type.tipo_habitacion }}</td>
                     <td class="table-light">{{ room_type.descripcion }}</td>
                     <td class="table-light">{{ room_type.precioxnoche }}</td>
                     <td class="table-light">{{ room_type.cantidad_adultos }}</td>
                     <td class="table-light">{{ room_type.cantidad_ninos }}</td>
                     <td ><img src="{{room_type.foto.url}}" width="40" height="40"></td>  
                     <td>
                        <a href="update_room_types/{{room_type.id}}">
                            <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                        </a>
                        <a href="delete_type/{{room_type.id}}">
                            <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                        </a>
                </td> 
                  </tr>
                  {% endfor %}
               </tbody>

            </table>
         </div>

         <div class="tabla_content" id="table_categoria">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th scope="col">id</th>
                     <th scope="col">Categoria</th>
                     <th scope="col">Descripción</th>
                     <th scope="col"> <a href="{% url 'view_insert_categoria' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                  </tr>
               </thead>

               <tbody>
                  {% for categoria in get_categoria  %}
                  <tr>
                     {% comment %} <th> {{ forloop.counter }}</th> {% endcomment %}
                     <th class="table-light" scope="row">{{categoria.id }}</th>
                     <td class="table-light">{{ categoria.nombre_categoria }}</td>
                     <td class="table-light">{{ categoria.descripcion }}</td>
                     <td>
                            <a href="view_update_categoria/{{categoria.id}}">
                                <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                            <a href="delete_categoria/{{categoria.id}}">
                                <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                    </td>
                  </tr>
                  {% endfor %}

               </tbody>

            </table>
         </div>

         <div class="tabla_content" id="table_inventory">
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th scope="col">id</th>
                     <th scope="col">Producto</th>
                     <th scope="col">Descripción</th>
                     <th scope="col">Estado</th>
                     <th scope="col">Categoria</th>
                     <th scope="col"> <a href="{% url 'view_insert_inventory' %}">
                        <i class="fa-solid fa-square-plus" style="color: #fff; font-size: 20px;"></i>
                    </a></th>
                  </tr>
               </thead>

               <tbody>
                  {% for inventory in get_inventory  %}
                  <tr>
                     {% comment %} <th> {{ forloop.counter }}</th> {% endcomment %}
                     <th class="table-light" scope="row">{{inventory.id }}</th>
                     <td class="table-light">{{ inventory.nombre_producto}}</td>
                     <td class="table-light">{{ inventory.descripcion }}</td>
                     <td class="table-light">{{ inventory.id_estado }}</td>
                     <td class="table-light">{{ inventory.id_categoria }}</td>
                     <td>
                            <a href="view_update_inventory/{{inventory.id}}">
                                <i class="fa-solid fa-file-pen" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                            <a href="delete_inventory/{{inventory.id}}">
                                <i class="fa-solid fa-trash" style="color: #5eb319; font-size: 20px;"></i>
                            </a>
                    </td>
                  </tr>
                  {% endfor %}

               </tbody>

            </table>
         </div>

      </div>
   </section>


</body>

</html>